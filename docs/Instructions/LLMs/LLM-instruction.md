---
tags:
  - help
---

!!! info "Назначение"
    Методика описывает алгоритм эффективного ведения диалога с LLM в рамках одной темы: от формирования первичного промпта до миграции в новый чат из-за заполнения контекстного окна.

#### **1. Формирование первичного промпта**

* Проверить личную базу знаний на предмет релевантных промптов или саммари, которые могут служить отправной точкой диалога;
* Самостоятельно собрать все релевантные сведения по теме и сформировать первичный промпт на основе выбранного шаблона [Ссылка на шаблоны]. Разделы шаблона, не актуальные для текущей задачи, следует исключить.

#### **2. Структурирование первичного промпта (опционально)**

* При работе со сложными многоэтапными задачами или неуверенности в структуре промпта пропустить первичный промпт через выбранный мета-промпт для его структурирования [Ссылки на мета промпты].

#### **3. Получение первичного ответа**

* Создать новый чат, используя итоговый промпт, и дождаться ответа LLM;
* Весь последующий диалог по данной теме вести внутри созданного чата до момента заполнения контекстного окна.

#### **4. Оценка качества первичного ответа**

Сравнить полученный ответ с критериями качества [Ссылка на перечень критериев качества]:

* При критическом несоответствии ответа ожидаемому вернуться к шагу 1 и переработать промпт;
* При частичном несоответствии ответа ожидаемому скорректировать результат с помощью уточняющих промптов в текущем чате;
* В случае высокого качества ответа сохранить промпт в личную базу знаний.

!!! warning "Внимание"
    Если автоматически сгенерированное название не отражает суть темы, следует переименовать чат.

#### **5. Развитие диалога**

* Уточнять и углублять ответ в чате с помощью специализированных техник [Ссылка на техники уточнения]. Качество каждого нового ответа оценивать в соответствии с правилами, описанными в шаге 4;

* Проверять соответствие исходной цели при смене темы или после получения крупного блока информации [Ссылка на техники уточнения – эта техника будет там же];

* Переходить к смежным темам по своему усмотрению – главное обеспечить плавный переход через связующие фразы для сохранения контекста [Ссылка на смены ракурса].

#### **6. Мониторинг контекстного окна**

Отслеживать индикаторы заполнения контекстного окна:

* Для простых чатов при первых признаках деградации контекста (ответы стали короче, LLM забывает детали из начала чата, появились противоречия) использовать промпт для создания рабочего саммари [Ссылка на промпт для создания саммари]. Проверить рабочее саммари на полноту и точность вручную, при необходимости запросить у LLM его корректировку;
* Для критически важных чатов (критичность определяется пользователем) создавать рабочие саммари регулярно, каждые 10-15 сообщений, даже если признаков деградации пока нет. При создании рабочего саммари использовать 2 разных промпта и сравнить полноту сохранения контекста (вручную или с использованием промпта-арбитра). Сохранить лучшее рабочее саммари как «Чекпоинт N».

!!! warning "Внимание"
    Промпты для создания саммари всегда запускаются в отдельных новых чатах.

#### **7. Перенос контекста**

Подготовить итоговое саммари для переноса диалога в новый чат:

* Для простых чатов проверить, что саммари содержит все ключевые решения, факты и контекст, позволяющие продолжить коммуникацию с LLM по текущей теме в новом чате, используя чек-лист [ссылка на чек-лист для проверки саммари]. При необходимости дополнить саммари вручную упущенными, но критически важными деталями;
* Для критически важных чатов проверить все созданные чекпоинты на предмет ключевых решений, фактов и контекста. При наличии важной информации в предыдущих чекпоинтах, которая отсутствует в последнем, объединить критически важные элементы в итоговое саммари для переноса (вручную или с помощью промпта-агрегатора). Если итоговый документ получается чрезмерно громоздким, вручную сократить его до компактного «мета-саммари» без потери сути. Проверить итоговое саммари по чек-листу [ссылка на чек-лист для проверки саммари].

Использовать итоговое саммари для описания контекста/входных данных в новом первичном промпте. Вернуться к шагу 1.